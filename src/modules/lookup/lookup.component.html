<div
  class="sky-lookup"
  [ngClass]="{ 'sky-lookup-input-focused': inputFocused }">

  <sky-autocomplete
    [data]="data"
    [descriptorProperty]="descriptorProperty"
    [propertiesToSearch]="propertiesToSearch"
    [search]="search"
    [searchFilters]="searchFilters"
    [searchResultsLimit]="searchResultsLimit"
    [searchResultTemplate]="searchResultTemplate"
    [searchTextMinimumCharacters]="searchTextMinimumCharacters"
    (selectionChange)="onSelectionChange($event)">

    <div class="sky-lookup-search sky-form-control">
      <sky-lookup-tokens
        [disabled]="disabled"
        [displayWith]="descriptorProperty"
        [tokenStream]="tokenStream"
        (tokensBlur)="lookupInput.focus()"
        (tokenChanges)="onTokenChanges($event)">

        <textarea
          skyAutocomplete
          class="sky-form-control"
          [disabled]="disabled"
          [attr.aria-label]="ariaLabel"
          [attr.aria-labelledby]="ariaLabelledBy"
          [attr.placeholder]="placeholderText"
          #lookupInput>
        </textarea>

      </sky-lookup-tokens>
    </div>
  </sky-autocomplete>
</div>

<pre>{{ selectedItems | json}}</pre>
